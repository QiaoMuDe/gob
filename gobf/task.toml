[global]
# 环境变量
envs = {}
# 任务变量
vars = {}
# 工作目录
work_dir = "."
# 超时时间, 单位秒
timeout = '30s'
# 是否显示输出
show_output = true
# 任务执行失败时是否退出程序, true=退出, false=继续执行但打印错误
exit_on_error = true

[task.clean]
# 任务描述
desc = "清理项目"
# 命令列表
cmds = [
    "echo 清理临时文件...",
    "echo 清理完成"
]

[task.build]
# 任务描述
desc = "构建项目"
# 命令列表
cmds = [
    "echo 开始构建...",
    "echo 编译中...",
    "echo 构建完成"
]
depends_on = ["clean"]

[task.test]
# 任务描述
desc = "运行测试"
# 命令列表
cmds = [
    "echo 运行单元测试...",
    "echo 运行集成测试...",
    "echo 测试通过"
]
depends_on = ["build"]

[task.package]
# 任务描述
desc = "打包应用"
# 命令列表
cmds = [
    "echo 创建发布包...",
    "echo 压缩文件...",
    "echo 打包完成"
]
depends_on = ["test"]

[task.deploy]
# 任务描述
desc = "部署应用"
# 命令列表
cmds = [
    "echo 连接服务器...",
    "echo 上传文件...",
    "echo 部署完成"
]
depends_on = ["package"]

[task.run]
# 任务描述
desc = "运行完整流程"
# 命令列表
cmds = [
    "echo 启动应用...",
    "echo 应用已启动"
]
depends_on = ["clean", "build", "test", "package", "deploy"]